# Smart Money Concepts (SMC) Signal Service

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∏–π —Å–µ—Ä–≤—ñ—Å —Ç–æ—Ä–≥–æ–≤–∏—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤, —è–∫–∏–π –≥–µ–Ω–µ—Ä—É—î —Å–∏–≥–Ω–∞–ª–∏ Smart Money Concepts (SMC) –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ —Ç–∞ —ñ—Å—Ç–æ—Ä–∏—á–Ω—ñ –∑ –ª–æ–∫–∞–ª—å–Ω–∏–º –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è–º, –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏ –±–µ–∫—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Å—É—á–∞—Å–Ω–∏–º –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

## üöÄ –§—É–Ω–∫—Ü—ñ—ó

- **–î–∞–Ω—ñ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ**: –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è WebSocket –∑ Binance –¥–ª—è –∂–∏–≤–∏—Ö —Ä–∏–Ω–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
- **SMC —Å–∏–≥–Ω–∞–ª–∏**: –ü—Ä–æ–±—ñ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ (BOS), –∑–º—ñ–Ω–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä—É (CHOCH), –ø—Ä–æ–≥–∞–ª–∏–Ω–∏ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—ó –≤–∞—Ä—Ç–æ—Å—Ç—ñ (FVG), –ó–º—ñ—Ç–∏
- **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –±–∞–≥–∞—Ç—å–æ—Ö —á–∞—Å–æ–≤–∏—Ö —Ñ—Ä–µ–π–º—ñ–≤**: 1–º, 5–º, 15–º, 30–º, 1–≥, 4–≥, 1–¥
- **–õ–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è**: –ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –Ω–∞ –æ—Å–Ω–æ–≤—ñ Parquet –∑ –∫–µ—à—É–≤–∞–Ω–Ω—è–º –≤ –ø–∞–º'—è—Ç—ñ
- **–î–≤–∏–≥—É–Ω –±–µ–∫—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: –Ü—Å—Ç–æ—Ä–∏—á–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π –∑ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- **CSV –∑–≤—ñ—Ç–∏**: –î–µ—Ç–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ —É–≥–æ–¥ –¥–ª—è –µ–∫—Å–ø–æ—Ä—Ç—É
- **–°–∫–∞–Ω–µ—Ä –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—ñ**: –†–∞–Ω–∂—É–≤–∞–Ω–Ω—è —Ç–∞ –∞–Ω–∞–ª—ñ–∑ —Ä–∏–Ω–∫–æ–≤–æ—ó –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—ñ
- **–°—É—á–∞—Å–Ω–∏–π –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∞—à–±–æ—Ä–¥ –∑ HTMX –¥–ª—è –¥–∏–Ω–∞–º—ñ—á–Ω–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω—å
- **REST API**: –ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π API –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó
- **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ Docker**: –õ–µ–≥–∫–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∑ docker-compose

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Binance API   ‚îÇ    ‚îÇ  WebSocket WS   ‚îÇ    ‚îÇ   FastAPI App   ‚îÇ
‚îÇ   (–Ü—Å—Ç–æ—Ä–∏—á–Ω—ñ)   ‚îÇ    ‚îÇ   (–†–µ–∞–ª—å–Ω–∏–π —á–∞—Å)‚îÇ    ‚îÇ   (–í–µ–± + API)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ  Parquet Storage‚îÇ
                    ‚îÇ  + In-Memory    ‚îÇ
                    ‚îÇ     Cache       ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìã –í–∏–º–æ–≥–∏

- Python 3.11+
- Docker & Docker Compose
- –û–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ Binance API (–¥–ª—è –∂–∏–≤–∏—Ö –¥–∞–Ω–∏—Ö)

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

```bash
git clone <repository-url>
cd smart-trading-bot
cp env.example .env
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ñ–∞–π–ª `.env` –∑ –≤–∞—à–∏–º–∏ –æ–±–ª—ñ–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏ Binance API:

```bash
# –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Binance API
BINANCE_API_KEY=–≤–∞—à_api_–∫–ª—é—á_—Ç—É—Ç
BINANCE_SECRET_KEY=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω–∏–π_–∫–ª—é—á_—Ç—É—Ç
BINANCE_TESTNET=false

# –ë–µ–∑–ø–µ–∫–∞
SHARED_SECRET=–≤–∞—à_—Å–ø—ñ–ª—å–Ω–∏–π_—Å–µ–∫—Ä–µ—Ç_—Ç—É—Ç
```

### 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—ñ–≤

```bash
# –ó–∞–ø—É—Å–∫ –æ–±–æ—Ö API —Ç–∞ WebSocket –≤–æ—Ä–∫–µ—Ä–∞
docker compose up --build

# –ê–±–æ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—ñ–≤ –æ–∫—Ä–µ–º–æ
docker compose up api      # FastAPI —Å–µ—Ä–≤—ñ—Å –Ω–∞ –ø–æ—Ä—Ç—É 8000
docker compose up worker   # WebSocket –≤–æ—Ä–∫–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 8001
```

### 4. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

- **–ó–¥–æ—Ä–æ–≤'—è API**: http://localhost:8000/health
- **–í–µ–±-–¥–∞—à–±–æ—Ä–¥**: http://localhost:8000/web/
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API**: http://localhost:8000/docs
- **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–µ–∫—Ç–µ—Å—Ç—É**: http://localhost:8000/web/backtest

## üìä –î–∂–µ—Ä–µ–ª–∞ –¥–∞–Ω–∏—Ö

### –Ü—Å—Ç–æ—Ä–∏—á–Ω—ñ –¥–∞–Ω—ñ
- **Binance REST API**: –Ü—Å—Ç–æ—Ä–∏—á–Ω—ñ –¥–∞–Ω—ñ —Å–≤—ñ—á–æ–∫ –¥–ª—è –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è
- **–ß–∞—Å–æ–≤—ñ —Ñ—Ä–µ–π–º–∏**: 1–º, 5–º, 15–º, 30–º, 1–≥, 4–≥, 1–¥
- **–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è**: –õ–æ–∫–∞–ª—å–Ω—ñ —Ñ–∞–π–ª–∏ Parquet –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó `./data/`

### –î–∞–Ω—ñ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
- **Binance WebSocket**: –ñ–∏–≤–∏–π –ø–æ—Ç—ñ–∫ —Å–≤—ñ—á–æ–∫
- **–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –ø–∞—Ä–∏**: BTCUSDT, ETHUSDT, BNBUSDT (–Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞–Ω—ñ)
- **–ß–∞—Å—Ç–æ—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: –†–µ–∞–ª—å–Ω–∏–π —á–∞—Å –ø—Ä–∏ –∑–∞–∫—Ä–∏—Ç—Ç—ñ —Å–≤—ñ—á–æ–∫

## üîß API –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏

### –û—Å–Ω–æ–≤–Ω—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏
- `GET /health` - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤'—è —Å–µ—Ä–≤—ñ—Å—É
- `GET /api/v1/pairs/` - –î–æ—Å—Ç—É–ø–Ω—ñ —Ç–æ—Ä–≥–æ–≤—ñ –ø–∞—Ä–∏
- `GET /api/v1/candles/` - –Ü—Å—Ç–æ—Ä–∏—á–Ω—ñ –¥–∞–Ω—ñ —Å–≤—ñ—á–æ–∫
- `GET /api/v1/signals/` - SMC —Ç–æ—Ä–≥–æ–≤—ñ —Å–∏–≥–Ω–∞–ª–∏

### –†–æ–∑—à–∏—Ä–µ–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- `GET /api/v1/backtest/` - –ó–∞–ø—É—Å–∫ –±–µ–∫—Ç–µ—Å—Ç—ñ–≤ —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π
- `GET /api/v1/scan/volatility` - –ê–Ω–∞–ª—ñ–∑ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—ñ
- `GET /api/v1/signals/stats/summary` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏–≥–Ω–∞–ª—ñ–≤

### –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API

```bash
# –û—Ç—Ä–∏–º–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö —Å–≤—ñ—á–æ–∫ –¥–ª—è BTCUSDT 15–º
curl "http://localhost:8000/api/v1/candles/?symbol=BTCUSDT&timeframe=15m&limit=100"

# –ó–∞–ø—É—Å–∫ –±–µ–∫—Ç–µ—Å—Ç—É –¥–ª—è ETHUSDT 1–≥
curl "http://localhost:8000/api/v1/backtest/?symbol=ETHUSDT&tf=1h&from_date=2024-01-01&to_date=2024-01-31"

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–∞–Ω–∂—É–≤–∞–Ω–Ω—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—ñ
curl "http://localhost:8000/api/v1/scan/volatility?tf=15m&top=20"
```

## üß™ –ë–µ–∫—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –§—É–Ω–∫—Ü—ñ—ó
- **–°–∏–º—É–ª—è—Ü—ñ—è —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó**: –°—Ç—Ä–∞—Ç–µ–≥—ñ—è –ø—Ä–æ–±–æ—é –∑ –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞–Ω–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–∏–∑–∏–∫–∞–º–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è —Å—Ç–æ–ø-–ª–æ—Å—Å —Ç–∞ —Ç–µ–π–∫-–ø—Ä–æ—Ñ—ñ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ**: –í—ñ–¥—Å–æ—Ç–æ–∫ –≤–∏–≥—Ä–∞—à—ñ–≤, —Ñ–∞–∫—Ç–æ—Ä –ø—Ä–∏–±—É—Ç–∫—É, R-–º–Ω–æ–∂–Ω–∏–∫, –ø—Ä–æ—Å–∞–¥–∫–∞
- **CSV –µ–∫—Å–ø–æ—Ä—Ç**: –î–µ—Ç–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ —É–≥–æ–¥–∞ –∑–∞ —É–≥–æ–¥–æ—é

### –†–æ–∑—Ä–∞—Ö–æ–≤–∞–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏
- –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —É–≥–æ–¥, –≤—ñ–¥—Å–æ—Ç–æ–∫ –≤–∏–≥—Ä–∞—à—ñ–≤, —Ñ–∞–∫—Ç–æ—Ä –ø—Ä–∏–±—É—Ç–∫—É
- –°–µ—Ä–µ–¥–Ω—ñ–π R-–º–Ω–æ–∂–Ω–∏–∫, –æ—á—ñ–∫—É–≤–∞–Ω—ñ—Å—Ç—å
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –ø—Ä–æ—Å–∞–¥–∫–∞, –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç –ø–æ–¥—ñ–±–Ω–∏–π –¥–æ –®–∞—Ä–ø–∞
- –ß–∞—Å –Ω–∞ —Ä–∏–Ω–∫—É, –∞–Ω–∞–ª—ñ–∑ MAE/MFE

## üìà –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –î–∞—à–±–æ—Ä–¥
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Å–∏–≥–Ω–∞–ª—ñ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
- –û–≥–ª—è–¥ —Ä–∏–Ω–∫—É —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –°–∫–∞–Ω–µ—Ä –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—ñ –∑ –≤–∏–±–æ—Ä–æ–º —á–∞—Å–æ–≤–æ–≥–æ —Ñ—Ä–µ–π–º—É
- –î–æ—Å—Ç—É–ø–Ω—ñ –ø–∞—Ä–∏ —Ç–∞ —á–∞—Å–æ–≤—ñ —Ñ—Ä–µ–π–º–∏

### –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–µ–∫—Ç–µ—Å—Ç—É
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó
- –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
- –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è CSV –∑–≤—ñ—Ç—É

## üóÑÔ∏è –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞
```
data/
‚îú‚îÄ‚îÄ candles/          # OHLCV –¥–∞–Ω—ñ –∑–∞ —Å–∏–º–≤–æ–ª–æ–º/—á–∞—Å–æ–≤–∏–º —Ñ—Ä–µ–π–º–æ–º
‚îú‚îÄ‚îÄ signals/          # SMC —Å–∏–≥–Ω–∞–ª–∏ –∑–∞ —Å–∏–º–≤–æ–ª–æ–º/—á–∞—Å–æ–≤–∏–º —Ñ—Ä–µ–π–º–æ–º
‚îî‚îÄ‚îÄ backtests/        # –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –±–µ–∫—Ç–µ—Å—Ç—É

reports/              # CSV –µ–∫—Å–ø–æ—Ä—Ç
‚îú‚îÄ‚îÄ {symbol}/
‚îî‚îÄ‚îÄ {timeframe}/
```

### –§–æ—Ä–º–∞—Ç –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è
- **Parquet**: –ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ –∫–æ–ª–æ–Ω–∫–æ–≤–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–ª—è —á–∞—Å–æ–≤–∏—Ö —Ä—è–¥—ñ–≤
- **–°—Ç–∏—Å–Ω–µ–Ω–Ω—è**: Snappy —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É/–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- **–ü–∞—Ä—Ç–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è**: –û—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω–æ –∑–∞ —Å–∏–º–≤–æ–ª–æ–º —Ç–∞ —á–∞—Å–æ–≤–∏–º —Ñ—Ä–µ–π–º–æ–º
- **–ö–µ—à—É–≤–∞–Ω–Ω—è**: –ö–µ—à –≤ –ø–∞–º'—è—Ç—ñ LRU –∑ TTL

## üîå –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```bash
# –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
DATA_DIR=./data
REPORTS_DIR=./reports
CACHE_TTL=300

# –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è WebSocket
WS_RECONNECT_DELAY=5
WS_MAX_RECONNECT_ATTEMPTS=10

# –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è API
API_HOST=0.0.0.0
API_PORT=8000
WORKER_HOST=0.0.0.0
WORKER_PORT=8001

# –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏
INDICATORS=BOS,CHOCH,FVG,SWEEP
TIMEFRAMES=1m,5m,15m,30m,1h,4h,1d
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- **–°–∏–º–≤–æ–ª–∏**: –ú–æ–¥–∏—Ñ—ñ–∫—É–π—Ç–µ `WebSocketWorker.symbols` –≤ `app/workers/websocket_worker.py`
- **–ß–∞—Å–æ–≤—ñ —Ñ—Ä–µ–π–º–∏**: –û–Ω–æ–≤—ñ—Ç—å `TIMEFRAMES` –≤ `.env`
- **–Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏**: –ù–∞–ª–∞—à—Ç—É–π—Ç–µ `INDICATORS` –≤ `.env`

## üöÄ –†–æ–∑—Ä–æ–±–∫–∞

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏

```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
python -m venv venv
source venv/bin/activate  # –ù–∞ Windows: venv\Scripts\activate

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏
pip install -r requirements.txt[dev]

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—ñ–≤
python -m app.main          # API —Å–µ—Ä–≤—ñ—Å
python -m app.workers.websocket_worker  # WebSocket –≤–æ—Ä–∫–µ—Ä
```

### –Ø–∫—ñ—Å—Ç—å –∫–æ–¥—É
```bash
# –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
black app/
ruff check app/

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—ñ–≤
mypy app/

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
pytest tests/
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É
```
smart-trading-bot/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/              # REST API –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ models/           # Pydantic –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îú‚îÄ‚îÄ services/         # –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ storage/          # –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
‚îÇ   ‚îú‚îÄ‚îÄ web/              # –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îî‚îÄ‚îÄ workers/          # –§–æ–Ω–æ–≤—ñ –≤–æ—Ä–∫–µ—Ä–∏
‚îú‚îÄ‚îÄ data/                 # –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è Parquet
‚îú‚îÄ‚îÄ reports/              # CSV –µ–∫—Å–ø–æ—Ä—Ç
‚îú‚îÄ‚îÄ tests/                # –ù–∞–±—ñ—Ä —Ç–µ—Å—Ç—ñ–≤
‚îú‚îÄ‚îÄ docker-compose.yml    # Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îî‚îÄ‚îÄ requirements.txt      # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
```

## üîí –ë–µ–∑–ø–µ–∫–∞

### –ë–µ–∑–ø–µ–∫–∞ API
- **–û–±–º–µ–∂–µ–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ**: –ù–∞–ª–∞—à—Ç–æ–≤—É–≤–∞–Ω—ñ –ª—ñ–º—ñ—Ç–∏ –∑–∞–ø–∏—Ç—ñ–≤
- **–°–ø—ñ–ª—å–Ω–∏–π —Å–µ–∫—Ä–µ—Ç**: –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ X-Shared-Secret
- **CORS**: –ù–∞–ª–∞—à—Ç–æ–≤—É–≤–∞–Ω—ñ –ø–æ–ª—ñ—Ç–∏–∫–∏ cross-origin

### –ë–µ–∑–ø–µ–∫–∞ –¥–∞–Ω–∏—Ö
- **–õ–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è**: –ë–µ–∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- **API –∫–ª—é—á—ñ**: –ë–µ–∑–ø–µ—á–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- **–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É**: –°–∏—Å—Ç–µ–º–∞ –¥–æ–∑–≤–æ–ª—ñ–≤ –≥–æ—Ç–æ–≤–∞ –¥–æ –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤'—è
- **–ó–¥–æ—Ä–æ–≤'—è —Å–µ—Ä–≤—ñ—Å—É**: –µ–Ω–¥–ø–æ—ñ–Ω—Ç `/health`
- **–°—Ç–∞—Ç—É—Å –∫–µ—à—É**: –í–±—É–¥–æ–≤–∞–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∫–µ—à—É
- **–°—Ç–∞—Ç—É—Å –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ —Ñ–∞–π–ª—ñ–≤ Parquet

### –õ–æ–≥—É–≤–∞–Ω–Ω—è
- **–°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è**: JSON-–ø–æ–¥—ñ–±–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç
- **–†—ñ–≤–Ω—ñ –ª–æ–≥—É–≤–∞–Ω–Ω—è**: –ù–∞–ª–∞—à—Ç–æ–≤—É–≤–∞–Ω–∞ –¥–µ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—è
- **–í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫**: –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

## üöß –ú–∞–π–±—É—Ç–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### –ó–∞–ø–ª–∞–Ω–æ–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- **SMC —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏**: –†–æ–∑—à–∏—Ä–µ–Ω–µ –≤–∏—è–≤–ª–µ–Ω–Ω—è BOS/CHOCH/FVG
- **–î–≤–∏–≥—É–Ω –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**: –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ—Ä–¥–µ—Ä—ñ–≤
- **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–∏–∑–∏–∫–∞–º–∏**: –†–æ–∑–º—ñ—Ä—É–≤–∞–Ω–Ω—è –ø–æ–∑–∏—Ü—ñ–π —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º
- **–ú–∞—à–∏–Ω–Ω–µ –Ω–∞–≤—á–∞–Ω–Ω—è**: –ü—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è —Å–∏–≥–Ω–∞–ª—ñ–≤ —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è
- **–ë–∞–≥–∞—Ç–æ –±—ñ—Ä–∂**: –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –±—ñ—Ä–∂

### –§—É–Ω–¥–∞–º–µ–Ω—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
- **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –æ—Ä–¥–µ—Ä–∞–º–∏**: –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–æ–≥–æ —Ü–∏–∫–ª—É –æ—Ä–¥–µ—Ä—ñ–≤
- **–í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø–æ–∑–∏—Ü—ñ–π**: –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ P&L –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
- **–ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–∏–∑–∏–∫—ñ–≤**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ñ –ª—ñ–º—ñ—Ç–∏ –ø–æ–∑–∏—Ü—ñ–π
- **–ê—É–¥–∏—Ç –ª–æ–≥—É–≤–∞–Ω–Ω—è**: –ü–æ–≤–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è —É–≥–æ–¥

## ü§ù –í–Ω–µ—Å–æ–∫

1. –§–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—ñ–ª–∫–∏ —Ñ—É–Ω–∫—Ü—ñ—ó
3. –í–Ω–µ—Å–µ–Ω–Ω—è –∑–º—ñ–Ω
4. –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤ –¥–ª—è –Ω–æ–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ
5. –ó–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —è–∫–æ—Å—Ç—ñ –∫–æ–¥—É (black, ruff, mypy)
6. –ü–æ–¥–∞–Ω–Ω—è pull request

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –ª—ñ—Ü–µ–Ω–∑–æ–≤–∞–Ω–æ –ø—ñ–¥ MIT License - –¥–∏–≤—ñ—Ç—å—Å—è —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## ‚ö†Ô∏è –í—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ

–¶–µ –ø—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–æ —Ç—ñ–ª—å–∫–∏ –¥–ª—è –æ—Å–≤—ñ—Ç–Ω—ñ—Ö —Ç–∞ –¥–æ—Å–ª—ñ–¥–Ω–∏—Ü—å–∫–∏—Ö —Ü—ñ–ª–µ–π. –¶–µ –Ω–µ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∞ –ø–æ—Ä–∞–¥–∞. –¢–æ—Ä–≥—ñ–≤–ª—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞–º–∏ –ø–æ–≤'—è–∑–∞–Ω–∞ –∑ —Å—É—Ç—Ç—î–≤–∏–º —Ä–∏–∑–∏–∫–æ–º —Ç–∞ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –≤—Ç—Ä–∞—Ç–∏ –≤–∞—à–æ–≥–æ —ñ–Ω–≤–µ—Å—Ç–æ–≤–∞–Ω–æ–≥–æ –∫–∞–ø—ñ—Ç–∞–ª—É. –ó–∞–≤–∂–¥–∏ –ø—Ä–æ–≤–æ–¥–∏—Ç–µ –≤–ª–∞—Å–Ω–µ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è —Ç–∞ —Ä–æ–∑–≥–ª—è–Ω—å—Ç–µ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó –∑ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏–º —Ä–∞–¥–Ω–∏–∫–æ–º –ø–µ—Ä–µ–¥ –ø—Ä–∏–π–Ω—è—Ç—Ç—è–º —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω–∏—Ö —Ä—ñ—à–µ–Ω—å.

## üÜò –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

- **–ü—Ä–æ–±–ª–µ–º–∏**: GitHub Issues –¥–ª—è –∑–≤—ñ—Ç—ñ–≤ –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ —Ç–∞ –∑–∞–ø–∏—Ç—ñ–≤ —Ñ—É–Ω–∫—Ü—ñ–π
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è**: API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –Ω–∞ `/docs` –∫–æ–ª–∏ —Å–µ—Ä–≤—ñ—Å –∑–∞–ø—É—â–µ–Ω–∏–π
- **–°–ø—ñ–ª—å–Ω–æ—Ç–∞**: –ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ –Ω–∞—à–∏—Ö –æ–±–≥–æ–≤–æ—Ä–µ–Ω—å –¥–ª—è –¥–æ–ø–æ–º–æ–≥–∏ —Ç–∞ —Å–ø—ñ–≤–ø—Ä–∞—Ü—ñ

---

**–°—Ç–≤–æ—Ä–µ–Ω–æ –∑ ‚ù§Ô∏è –¥–ª—è —Ç–æ—Ä–≥–æ–≤–æ—ó —Å–ø—ñ–ª—å–Ω–æ—Ç–∏**
